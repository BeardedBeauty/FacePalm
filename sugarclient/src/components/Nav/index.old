import React from "react";
import "./style.css";
import { BrowserRouter as Router, Switch, Route, Link } from "react-router-dom";

class Nav extends Component {
    // Setting our component's initial state
    state = {
        books: [],
        title: "",
        author: "",
        synopsis: ""
    };

    // When the component mounts, load all books and save them to this.state.books
    componentDidMount() {
        this.loadUsers();
    }

    // Loads all books  and sets them to this.state.books
    loadUsers = () => {
        API.getUsers()
            .then(res =>
                console.log(res)
            )
            .catch(err => console.log(err));
    };
    render() {
        return (
            <div className="boxinternal">
                <div className="center-align">
                    <div className="scene">
                        <div className="box center-align">
                            <div className="front face center-align" id="org">
                                <img className="plane" src="/img/home-page-icon.png" />
                                <i className="fas fa-home"></i>
                            </div>
                            <Link to="/">
                                <div className="right face" href="/">
                                    <p>HOME</p>
                                </div>
                            </Link>
                        </div>
                    </div>
                    <div className="scene">
                        <div className="box modal-trigger" href="#modal1">
                            <div className="front face center-align" id="org">
                                <img className="plane" src="/img/circled-user.png" />
                                <i className="fas fa-home"></i>
                            </div>
                            <div className="right face center-align">
                                <p>PROFILE</p>
                            </div>
                        </div>
                    </div>
                    <div className="scene">
                        <div className="box center-align" href="#modal1">
                            <div className="front face center-align" id="org">
                                <img className="plane" src="/img/login.png" />
                                <i className="fas fa-home"></i>
                            </div>
                            <Link to="/">
                                {!isAuthenticated && (<div className="right face" onClick={() => loginWithRedirect({})}>
                                    <p>LOGIN</p>
                                </div>)}
                                {isAuthenticated && (<div className="right face" onClick={() => logout()}>
                                    <p>LOGOUT</p>
                                </div>)}
                            </Link>
                        </div>
                    </div>
                </div>
            </div>

        );
    }
}

export default Nav;